<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kobe Beef 511 アンケート</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; padding: 20px; background-color: #f5f5dc; }
        .stars { display: flex; justify-content: center; }
        .star { font-size: 30px; cursor: pointer; padding: 5px; }
        .selected { color: gold; }
        .hidden { display: none; }
        textarea { width: 80%; height: 100px; margin-top: 10px; }
    </style>
</head>
<body>
    <h2>神戸牛511での体験はいかがでしたか？<br>How was your experience at Kobe Beef 511?</h2>
    
    <p>料理はいかがでしたか？<br>Did you enjoy the food?</p>
    <div class="stars" data-question="food">
        <span class="star" data-value="1">★</span>
        <span class="star" data-value="2">★</span>
        <span class="star" data-value="3">★</span>
        <span class="star" data-value="4">★</span>
        <span class="star" data-value="5">★</span>
    </div>
    
    <p>サービスはいかがでしたか？<br>How was our service?</p>
    <div class="stars" data-question="service">
        <span class="star" data-value="1">★</span>
        <span class="star" data-value="2">★</span>
        <span class="star" data-value="3">★</span>
        <span class="star" data-value="4">★</span>
        <span class="star" data-value="5">★</span>
    </div>
    
    <p>当店をどのように見つけましたか？<br>How did you find our restaurant?</p>
    <div class="stars" data-question="discovery">
        <span class="star" data-value="1">★</span>
        <span class="star" data-value="2">★</span>
        <span class="star" data-value="3">★</span>
        <span class="star" data-value="4">★</span>
        <span class="star" data-value="5">★</span>
    </div>
    
    <button onclick="submitSurvey()">送信 / Submit</button>
    
    <div id="result" class="hidden"></div>
    
    <script>
    function sendFeedback() {
        let feedback = document.getElementById('feedback').value;
        let food = document.querySelector('.stars[data-question="food"]').getAttribute('data-selected') || "0";
        let service = document.querySelector('.stars[data-question="service"]').getAttribute('data-selected') || "0";
        let discovery = document.querySelector('.stars[data-question="discovery"]').getAttribute('data-selected') || "0";

        let data = {
            food: food,
            service: service,
            discovery: discovery,
            feedback: feedback
        };

        fetch("https://script.google.com/macros/library/d/1zJdRIbGoIeIlaxdEVgAsI86dwLfrnaVfRN_AO2n3OIt4Rb9YNbW8HYDC/1", { 
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data)
        }).then(response => response.text())
          .then(text => {
              alert("Thank you for your feedback!"); 
              console.log(text);
          }).catch(error => console.error("Error:", error));
    }
</script>

</body>
</html>
